<!DOCTYPE html>
<html lang="et" data-theme="newyear">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuldvillak</title>
  <script>window.PRELOADED_GAMES={"newyear1":{"title":"Minu m√§ng","categories":["NYE  traditsioonid","Poliitika","Kollane ajakirjandus","Sport","Varia"],"questions":[{"category":0,"value":100,"question":"Eesti rahvatraditsioon: Just selle tegevuse j√§rel interpreteeritakse kujundeid tuleviku ennustamiseks","answer":"Tina valamine"},{"category":0,"value":200,"question":"Ilutulestiku hakati laskma just sel p√µhjusel","answer":"Peletada eemale kurjad vaimud"},{"category":0,"value":300,"question":"Just nii mitu rohelist viinamarja s√º√ºes tuleb uuel aastal hea √µnn","answer":"12"},{"category":0,"value":400,"question":"Ilutulestiku laskmise traditsioon on p√§rit just sellest riigist","answer":"Hiina"},{"category":0,"value":500,"question":"New York palli kukkumine traditsioon sai alguse just sel p√µhjusel","answer":"Ilutulestik oli keelatud"},{"category":1,"value":100,"question":"USA president Trump nimetas just selle lahe √ºmber Ameerika laheks","answer":"Mehhiko laht"},{"category":1,"value":200,"question":"Poliitik, kelle v√§lja√ºtlemisse on kuulunud: \"Sotsid seina √§√§rde ja pumpp√ºssiga maha lasta\"\n","answer":"Kris K√§rner"},{"category":1,"value":300,"question":"Trump ja Putin on 2025 aastal kohtunud just nii mitu kords","answer":"5"},{"category":1,"value":400,"question":"Detsembris 25 ametisse astunud Tallinna linnapea","answer":"Peeter Raudsepp"},{"category":1,"value":500,"question":"8. mail valiti just tema uueks katoliku kiriku paavstiks","answer":"Pope Leo XIV, Cardinal Robert Provost"},{"category":2,"value":100,"question":"Taagepera lossis 2025. aastal suvep√§evi pidanud organisatsioon p√§lvis vastuolulist kajastust, mille taustal torkasid silma ka 2000 eurot maksvad segistid kontoris.","answer":"Tervisekassa"},{"category":2,"value":200,"question":"2025 aastal abielu lahututamisest teatanud Taavi R√µivas sattus WC skandaali just selle seltskonnastaariga","answer":"Brigitte Susanne hunt"},{"category":2,"value":300,"question":"Ta saavutas Delfi m√µjukate edetabelis √ºldarvestuses 17 koha ja naistest edestad teda vaid Kaja Kallas","answer":"Mallukas"},{"category":2,"value":400,"question":"Just tema, endine EKRE liige ja praegune riigikogulane k√§is spapuhkusel koos armukesega ja kandis kulud kuluh√ºvitistesse","answer":"Kalle Gr√ºnthal "},{"category":2,"value":500,"question":"Coldplay Kiss cam videos j√§i vahele just selle firma CEO ja HR","answer":"Astronomer"},{"category":3,"value":100,"question":"Skandaalne sporditreener Mati Alaveri kutsuti dopingumaalimas just nii","answer":"Kindral"},{"category":3,"value":200,"question":"2025a spordis pausi v√µtnud kettagolfim√§ngija Kristin L√§tt tegeles enne kettagolfi just selle spordialaga","answer":"Murdmaasuusatamine"},{"category":3,"value":300,"question":"Euroopa spordipealinn 2025","answer":"Tallinn"},{"category":3,"value":400,"question":"6 septembril 2025 purustas F1 just see s√µitja Monza ringrajal kiirusrekordi","answer":"Tallinn"},{"category":3,"value":500,"question":"Eesti m√∂√∂dunud aasta edukaim e-sportlane Robin Kool liitus selle tiimiga 2025. aasta jaanuaris.","answer":"Vitality"},{"category":4,"value":100,"question":"19 oktroobril r√∂√∂viti just sellest muuseumist 88mln euro v√§√§rtuses ehteid","answer":"Louvre"},{"category":4,"value":200,"question":"Taylor swifti viimase albumi nimi on just see","answer":"The life of a showgirl"},{"category":4,"value":300,"question":"1. Jaanuar 2026 aastal liitub just see riik eurotsooniga","answer":"Bulgaaria"},{"category":4,"value":400,"question":"2025. aastal toimus Vatikanis see katoliku kiriku traditsioon, mida peetakse iga 25 aasta j√§rel","answer":"juubeliaasta ehk avatakse p√ºha uks p√ºha basilicas"},{"category":4,"value":500,"question":"Hiina rahvakalendri j√§rgi on 2026 aasta just selle looma aasta","answer":"Punane tulehobune"}]}}</script>
  <script type="module" crossorigin>(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}})();const x={newyear:{title:"Kuldvillak",emoji:"üéÜ",walkingElements:["üéá","ü•Ç"]},halloween:{title:"Kuldvillak",emoji:"üéÉ",walkingElements:["üêà","üêà"]}};let m="newyear";function y(){return m==="halloween"?["halloween1","halloween2"]:["newyear1"]}const u={};function O(){const e=localStorage.getItem("kuldvillak-theme");(e==="halloween"||e==="newyear")&&(m=e),C()}function C(){document.documentElement.setAttribute("data-theme",m);const e=x[m],n=document.querySelector(".landing-title");n&&(n.textContent=`${e.title} ${e.emoji}`);const s=document.getElementById("game-title");s&&(s.textContent=`${e.title} ${e.emoji}`),document.querySelectorAll(".cat").forEach((r,l)=>{r.textContent=e.walkingElements[l%e.walkingElements.length]});const o=document.getElementById("theme-toggle");o&&(o.textContent=m==="newyear"?"üéÉ Halloween":"üéÜ New Year");const a=document.getElementById("game2-card");a&&(a.style.display=m==="newyear"?"none":"flex")}function H(){m=m==="newyear"?"halloween":"newyear",localStorage.setItem("kuldvillak-theme",m),C()}async function G(e){if(window.PRELOADED_GAMES&&window.PRELOADED_GAMES[e])return u[e]=window.PRELOADED_GAMES[e],u[e];try{const n=await fetch(`/${e}.json`);if(!n.ok)throw new Error(`Failed to load ${e}.json`);return u[e]=await n.json(),u[e]}catch(n){return console.error(`Error loading game data for ${e}:`,n),alert(`Failed to load game data: ${n instanceof Error?n.message:"Unknown error"}`),null}}let i={teams:[],answeredQuestions:[],currentQuestion:null,selectedGame:"newyear1",currentTurn:0,lastPicker:0},c={gameId:null,title:"",categories:["","","","",""],questions:[],isModified:!1},v=null;document.addEventListener("DOMContentLoaded",()=>{O(),W(),S(),I(),B(),document.getElementById("theme-toggle")?.addEventListener("click",H),document.getElementById("game1-card")?.addEventListener("click",()=>q(y()[0])),document.getElementById("game2-card")?.addEventListener("click",()=>q(y()[1])),document.getElementById("create-game-card")?.addEventListener("click",()=>P()),document.getElementById("team-count")?.addEventListener("change",S),document.getElementById("start-game-btn")?.addEventListener("click",D),document.getElementById("back-to-landing-btn")?.addEventListener("click",b),document.getElementById("show-answer-btn")?.addEventListener("click",$),document.getElementById("close-modal-btn")?.addEventListener("click",w),document.getElementById("reset-game-btn")?.addEventListener("click",_),document.getElementById("back-to-menu-btn")?.addEventListener("click",b),document.getElementById("game-title")?.addEventListener("click",b),document.getElementById("editor-back-btn")?.addEventListener("click",se),document.getElementById("import-btn")?.addEventListener("click",oe),document.getElementById("export-btn")?.addEventListener("click",ie),document.getElementById("save-game-btn")?.addEventListener("click",re),document.getElementById("import-file-input")?.addEventListener("change",ae),document.getElementById("cancel-question-edit-btn")?.addEventListener("click",N),document.getElementById("save-question-edit-btn")?.addEventListener("click",ne),document.addEventListener("keydown",e=>{document.getElementById("question-modal")?.classList.contains("active")&&(e.key==="Escape"&&w(),(e.key===" "||e.key==="Spacebar")&&(e.preventDefault(),$()))})});function g(e){document.querySelectorAll(".screen").forEach(n=>n.classList.remove("active")),document.getElementById(e)?.classList.add("active")}function q(e){i.selectedGame=e;const n=`kuldvillak-game-state-${e}`,s=localStorage.getItem(n);if(s)try{const t=JSON.parse(s);if(t.teams&&t.teams.length>0){const o={teams:t.teams,answeredQuestions:[],currentQuestion:t.currentQuestion||null,selectedGame:e,currentTurn:t.currentTurn??0,lastPicker:t.lastPicker??0};Array.isArray(t.answeredQuestions)&&t.answeredQuestions.length>0&&(typeof t.answeredQuestions[0]=="string"?o.answeredQuestions=t.answeredQuestions.map(a=>({questionId:a,answeredBy:null,isPositive:null})):o.answeredQuestions=t.answeredQuestions.map(a=>({questionId:a.questionId,answeredBy:a.answeredBy,isPositive:a.isPositive??(a.answeredBy!==null?!0:null)}))),i=o}else k()}catch(t){console.error(`Error loading saved game ${e}:`,t),k()}else k();S(),g("setup-screen")}function b(){i.teams.length>0&&p(),i={teams:[],answeredQuestions:[],currentQuestion:null,selectedGame:y()[0],currentTurn:0,lastPicker:0},g("landing-screen"),I()}function S(){const e=document.getElementById("team-count"),n=parseInt(e.value),s=document.getElementById("team-inputs");if(s){s.innerHTML="";for(let t=1;t<=n;t++){const o=document.createElement("input");o.type="text",o.className="setup-input",o.placeholder=`Tiim ${t} nimi`,o.id=`team-${t}`,o.value=i.teams[t-1]?.name||`Tiim ${t}`,s.appendChild(o)}}}async function D(){const e=document.getElementById("team-count"),n=parseInt(e.value);k();for(let t=1;t<=n;t++){const a=document.getElementById(`team-${t}`)?.value||`Tiim ${t}`;i.teams.push({name:a,score:0})}const s=i.selectedGame;!u[s]&&!await G(s)||(p(),E(),g("game-screen"))}function E(){j(),J()}function j(){const e=document.getElementById("scores-container");e&&(e.innerHTML="",i.teams.forEach((n,s)=>{const t=document.createElement("div");t.className="team-score",s===i.currentTurn&&t.classList.add("active-turn"),t.innerHTML=`
      <div class="team-name">${n.name}</div>
      <div class="team-points">${n.score}</div>
    `,e.appendChild(t)}))}function J(){const e=document.getElementById("jeopardy-board");if(!e)return;e.innerHTML="";const n=u[i.selectedGame];if(!n){console.error("Game data not loaded for:",i.selectedGame);return}n.categories.forEach(t=>{const o=document.createElement("div");o.className="category-cell",o.textContent=t,e.appendChild(o)}),[100,200,300,400,500].forEach(t=>{n.categories.forEach((o,a)=>{const r=n.questions.find(f=>f.category===a&&f.value===t),l=document.createElement("div");l.className="question-cell";const d=`${a}-${t}`;i.answeredQuestions.find(f=>f.questionId===d)&&l.classList.add("answered"),l.textContent=t.toString(),r&&(l.onclick=f=>V(r,d,f.currentTarget)),e.appendChild(l)})})}function V(e,n,s){i.currentQuestion={...e,id:n};const t=document.getElementById("modal-value"),o=document.getElementById("modal-question"),a=document.getElementById("modal-answer"),r=document.getElementById("show-answer-btn");t&&(t.textContent=e.value.toString()),o&&(o.textContent=e.question),a&&(a.textContent=`${e.answer}`,a.classList.remove("visible")),r&&(r.style.display="block"),K();const l=document.getElementById("question-modal"),d=document.querySelector(".modal-content");"startViewTransition"in document&&s?(console.log("Using View Transition API"),document.documentElement.classList.add("is-transitioning"),s.classList.add("transitioning"),document.startViewTransition(()=>{s.classList.remove("transitioning"),l?.classList.add("active"),d?.classList.add("transitioning")}).finished.finally(()=>{document.documentElement.classList.remove("is-transitioning")})):(console.log("View Transition API not supported, using CSS transitions"),l?.classList.add("active"))}function $(){const e=document.getElementById("modal-answer"),n=document.getElementById("show-answer-btn");e?.classList.add("visible"),n&&(n.style.display="none")}function K(){const e=document.getElementById("team-buttons");if(!e)return;e.innerHTML="";const n=i.currentQuestion;if(!n)return;const s=i.answeredQuestions.find(o=>o.questionId===n.id);if(s){const o=document.createElement("div");if(o.className="previous-answer-indicator",s.answeredBy===null)o.textContent="Eelnevalt: Vastuseta";else{const a=i.teams[s.answeredBy]?.name||"Teadmata",r=s.isPositive?"‚úì":"‚úó";o.textContent=`Eelnevalt: ${r} ${a}`}e.appendChild(o)}i.teams.forEach((o,a)=>{const r=document.createElement("div");r.className="team-button-group";const l=document.createElement("button");l.className="btn-team btn-team-positive",l.textContent=`‚úì ${o.name}`,s&&s.answeredBy===a&&s.isPositive===!0&&l.classList.add("previously-selected"),l.onclick=()=>F(a),r.appendChild(l);const d=document.createElement("button");d.className="btn-team btn-team-negative",d.textContent=`‚úó ${o.name}`,s&&s.answeredBy===a&&s.isPositive===!1&&d.classList.add("previously-selected"),d.onclick=()=>U(a),r.appendChild(d),e.appendChild(r)});const t=document.createElement("button");t.className="btn-team btn-skip",t.textContent="Vastuseta",s&&s.answeredBy===null&&t.classList.add("previously-selected"),t.onclick=()=>R(),e.appendChild(t)}function F(e){const n=i.currentQuestion;if(!n)return;const s=i.answeredQuestions.findIndex(t=>t.questionId===n.id);if(s!==-1){const t=i.answeredQuestions[s];t.answeredBy!==null&&(t.isPositive?i.teams[t.answeredBy].score-=n.value:i.teams[t.answeredBy].score+=n.value),i.teams[e].score+=n.value,i.answeredQuestions[s]={questionId:n.id,answeredBy:e,isPositive:!0},i.currentTurn=e,i.lastPicker=e}else i.teams[e].score+=n.value,i.answeredQuestions.push({questionId:n.id,answeredBy:e,isPositive:!0}),i.currentTurn=e,i.lastPicker=e;p(),w(),E(),i.answeredQuestions.length===u[i.selectedGame].questions.length&&setTimeout(()=>Q(),500)}function U(e){const n=i.currentQuestion;if(!n)return;const s=i.answeredQuestions.findIndex(t=>t.questionId===n.id);if(s!==-1){const t=i.answeredQuestions[s];t.answeredBy!==null&&(t.isPositive?i.teams[t.answeredBy].score-=n.value:i.teams[t.answeredBy].score+=n.value),i.teams[e].score-=n.value,i.answeredQuestions[s]={questionId:n.id,answeredBy:e,isPositive:!1},i.currentTurn=i.lastPicker}else i.teams[e].score-=n.value,i.answeredQuestions.push({questionId:n.id,answeredBy:e,isPositive:!1}),i.currentTurn=i.lastPicker;p(),w(),E(),i.answeredQuestions.length===u[i.selectedGame].questions.length&&setTimeout(()=>Q(),500)}function R(){const e=i.currentQuestion;if(!e)return;const n=i.answeredQuestions.findIndex(s=>s.questionId===e.id);if(n!==-1){const s=i.answeredQuestions[n];s.answeredBy!==null&&(s.isPositive?i.teams[s.answeredBy].score-=e.value:i.teams[s.answeredBy].score+=e.value),i.answeredQuestions[n]={questionId:e.id,answeredBy:null,isPositive:null}}else i.answeredQuestions.push({questionId:e.id,answeredBy:null,isPositive:null});p(),w(),E(),i.answeredQuestions.length===u[i.selectedGame].questions.length&&setTimeout(()=>Q(),500)}function w(){const e=document.getElementById("question-modal"),n=document.querySelector(".modal-content");"startViewTransition"in document&&n?.classList.contains("transitioning")?(console.log("Closing with View Transition API"),document.documentElement.classList.add("is-transitioning"),document.startViewTransition(()=>{e?.classList.remove("active"),n?.classList.remove("transitioning")}).finished.finally(()=>{document.documentElement.classList.remove("is-transitioning")})):(console.log("Closing with CSS transitions"),e?.classList.remove("active"),n?.classList.remove("transitioning")),i.currentQuestion=null}function Q(){const e=document.getElementById("podium");if(!e)return;e.innerHTML="";const n=[...i.teams].sort((a,r)=>r.score-a.score),s=["first","second","third"],t=["ü•á","ü•à","ü•â"];n.slice(0,3).forEach((a,r)=>{const l=document.createElement("div");l.className=`podium-place ${s[r]}`,l.style.animationDelay=`${r*.3}s`,l.innerHTML=`
      <div class="place-number">${t[r]}</div>
      <div class="place-team">${a.name}</div>
      <div class="place-score">${a.score} punkti</div>
    `,e.appendChild(l)}),g("end-screen"),z();const o=`kuldvillak-game-state-${i.selectedGame}`;localStorage.removeItem(o)}function z(){const n={newyear:["#4a90d9","#ffd700","#c0c0c0","#1a237e","#2dd881"],halloween:["#ff6b35","#f7b32b","#2dd881","#6b2d5c"]}[m];for(let s=0;s<50;s++)setTimeout(()=>{const t=document.createElement("div");t.className="confetti",t.style.left=Math.random()*100+"%",t.style.background=n[Math.floor(Math.random()*n.length)],t.style.animationDuration=Math.random()*2+2+"s",t.style.animationDelay=Math.random()+"s",document.body.appendChild(t),setTimeout(()=>t.remove(),5e3)},s*50)}function _(){i={teams:[],answeredQuestions:[],currentQuestion:null,selectedGame:y()[0],currentTurn:0,lastPicker:0},p()}function p(){const e=`kuldvillak-game-state-${i.selectedGame}`;localStorage.setItem(e,JSON.stringify(i))}function k(){const e=i.selectedGame;i={teams:[],answeredQuestions:[],currentQuestion:null,selectedGame:e,currentTurn:0,lastPicker:0}}function W(){const e=`kuldvillak-game-state-${i.selectedGame}`,n=localStorage.getItem(e);if(n){const s=JSON.parse(n);if(s.teams&&s.teams.length>0){const t={teams:s.teams,answeredQuestions:[],currentQuestion:s.currentQuestion||null,selectedGame:s.selectedGame||y()[0],currentTurn:s.currentTurn??0,lastPicker:s.lastPicker??0};Array.isArray(s.answeredQuestions)&&s.answeredQuestions.length>0&&(typeof s.answeredQuestions[0]=="string"?t.answeredQuestions=s.answeredQuestions.map(o=>({questionId:o,answeredBy:null,isPositive:null})):t.answeredQuestions=s.answeredQuestions.map(o=>({questionId:o.questionId,answeredBy:o.answeredBy,isPositive:o.isPositive??(o.answeredBy!==null?!0:null)}))),i=t}}}function Y(){const e=[];return y().forEach(s=>{const t=`kuldvillak-game-state-${s}`,o=localStorage.getItem(t);if(o)try{const a=JSON.parse(o);a.teams.length>0&&e.push({gameId:s,state:a})}catch(a){console.error(`Error parsing saved game ${s}:`,a)}}),e}function Z(e){const n=`kuldvillak-game-state-${e}`;localStorage.removeItem(n),I()}function I(){const e=document.getElementById("saved-games-container");if(!e)return;const n=Y();if(n.length===0){e.innerHTML="",e.style.display="none";return}e.style.display="block",e.innerHTML='<h3 class="saved-games-title">Pooleliolevad m√§ngud</h3>',n.forEach(({gameId:s,state:t})=>{const o=document.createElement("div");o.className="saved-game-card";const l=y().indexOf(s)===0?"M√§ng 1":"M√§ng 2",d=`${t.answeredQuestions.length}/25`,L=t.teams.map(h=>`${h.name}: ${h.score}`).join(" | ");o.innerHTML=`
      <div class="saved-game-content" data-game-id="${s}">
        <div class="saved-game-header">
          <span class="saved-game-name">${l}</span>
          <span class="saved-game-progress">${d}</span>
        </div>
        <div class="saved-game-teams">${L}</div>
      </div>
      <button class="saved-game-delete" data-game-id="${s}" title="Kustuta salvestatud m√§ng">üóëÔ∏è</button>
    `,o.querySelector(".saved-game-content").addEventListener("click",()=>X(s)),o.querySelector(".saved-game-delete").addEventListener("click",h=>{h.stopPropagation(),confirm(`Kas oled kindel, et soovid kustutada m√§ngu "${l}"?`)&&Z(s)}),e.appendChild(o)})}async function X(e){const n=`kuldvillak-game-state-${e}`,s=localStorage.getItem(n);if(!s){alert("Salvestatud m√§ngu ei leitud!"),I();return}try{if(i=JSON.parse(s),!u[e]&&!await G(e))return;E(),g("game-screen")}catch(t){console.error("Error resuming game:",t),alert("Viga m√§ngu taasalustamisel!")}}function ee(){const e=[],n=[100,200,300,400,500];for(let s=0;s<5;s++)for(const t of n)e.push({category:s,value:t,question:"",answer:""});return e}function P(e=null){if(e){const n=T(e);n&&(c={gameId:e,title:n.data.title,categories:[...n.data.categories],questions:JSON.parse(JSON.stringify(n.data.questions)),isModified:!1})}else c={gameId:null,title:"",categories:["","","","",""],questions:ee(),isModified:!1};M(),g("editor-screen")}function M(){const e=document.getElementById("editor-game-title");e&&(e.value=c.title,e.addEventListener("input",()=>{c.title=e.value,c.isModified=!0}));const n=document.getElementById("category-inputs");n&&(n.innerHTML="",c.categories.forEach((s,t)=>{const o=document.createElement("input");o.type="text",o.className="category-input",o.placeholder=`Kategooria ${t+1}`,o.value=s,o.addEventListener("input",()=>{c.categories[t]=o.value,c.isModified=!0}),n.appendChild(o)})),A()}function A(){const e=document.getElementById("editor-board");if(!e)return;e.innerHTML="",[100,200,300,400,500].forEach(s=>{for(let t=0;t<5;t++){const o=c.questions.find(l=>l.category===t&&l.value===s),a=document.createElement("div");a.className="editor-cell";const r=o&&o.question.trim()!=="";r&&a.classList.add("filled"),a.innerHTML=`
        <span class="cell-value">${s}</span>
        <span class="cell-status">${r?"‚úì":"t√ºhi"}</span>
      `,a.addEventListener("click",()=>te(t,s)),e.appendChild(a)}})}function te(e,n){v={categoryIndex:e,value:n};const s=c.questions.find(r=>r.category===e&&r.value===n),t=document.getElementById("edit-question-text"),o=document.getElementById("edit-answer-text");t&&(t.value=s?.question||""),o&&(o.value=s?.answer||""),document.getElementById("question-editor-modal")?.classList.add("active")}function N(){document.getElementById("question-editor-modal")?.classList.remove("active"),v=null}function ne(){if(!v)return;const e=document.getElementById("edit-question-text"),n=document.getElementById("edit-answer-text"),s=c.questions.findIndex(t=>t.category===v.categoryIndex&&t.value===v.value);s!==-1&&(c.questions[s]={category:v.categoryIndex,value:v.value,question:e?.value||"",answer:n?.value||""},c.isModified=!0),N(),A()}function se(){c.isModified&&!confirm("Sul on salvestamata muudatusi. Kas oled kindel, et soovid lahkuda?")||(g("landing-screen"),B())}function oe(){document.getElementById("import-file-input")?.click()}function ae(e){const n=e.target,s=n.files?.[0];if(!s)return;const t=new FileReader;t.onload=o=>{try{const a=JSON.parse(o.target?.result);if(!a.categories||!Array.isArray(a.categories)||a.categories.length!==5)throw new Error("Invalid categories");if(!a.questions||!Array.isArray(a.questions))throw new Error("Invalid questions");c={gameId:null,title:a.title||"",categories:a.categories,questions:a.questions,isModified:!0},M(),alert("M√§ng imporditud edukalt!")}catch(a){console.error("Import error:",a),alert("Viga faili importimisel. Kontrolli, et fail on √µiges formaadis.")}},t.readAsText(s),n.value=""}function ie(){const n=document.getElementById("editor-game-title")?.value||c.title||"Minu m√§ng",s={title:n,categories:c.categories,questions:c.questions},t=JSON.stringify(s,null,2),o=new Blob([t],{type:"application/json"}),a=URL.createObjectURL(o),r=document.createElement("a");r.href=a,r.download=`${n.replace(/[^a-zA-Z0-9]/g,"_")}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)}function re(){const e=document.getElementById("editor-game-title"),n=e?.value.trim();if(!n){alert("Palun sisesta m√§ngu pealkiri!"),e?.focus();return}if(c.categories.filter(r=>!r.trim()).length>0){alert("Palun t√§ida k√µik kategooriad!");return}if(c.questions.filter(r=>r.question.trim()!=="").length===0){alert("Palun lisa v√§hemalt √ºks k√ºsimus!");return}const o=c.gameId||`custom-${Date.now()}`,a={id:o,data:{title:n,categories:c.categories,questions:c.questions},createdAt:c.gameId&&T(o)?.createdAt||Date.now(),updatedAt:Date.now()};ce(a),c.gameId=o,c.isModified=!1,alert("M√§ng salvestatud!"),g("landing-screen"),B()}function le(){const e=[];for(let n=0;n<localStorage.length;n++){const s=localStorage.key(n);if(s?.startsWith("kuldvillak-custom-game-"))try{const t=JSON.parse(localStorage.getItem(s)||"");e.push(t)}catch(t){console.error("Error parsing custom game:",t)}}return e.sort((n,s)=>s.updatedAt-n.updatedAt)}function T(e){const n=`kuldvillak-custom-game-${e}`,s=localStorage.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return null}}function ce(e){const n=`kuldvillak-custom-game-${e.id}`;localStorage.setItem(n,JSON.stringify(e)),u[e.id]=e.data}function de(e){const n=`kuldvillak-custom-game-${e}`;localStorage.removeItem(n),delete u[e];const s=`kuldvillak-game-state-${e}`;localStorage.removeItem(s)}function B(){const e=document.getElementById("custom-games-container");if(!e)return;const n=le();if(n.length===0){e.innerHTML="",e.style.display="none";return}e.style.display="block",e.innerHTML='<h3 class="custom-games-title">Minu m√§ngud</h3>';const s=document.createElement("div");s.className="custom-games-grid",n.forEach(t=>{const o=document.createElement("div");o.className="custom-game-card",o.innerHTML=`
      <div class="custom-game-name">${t.data.title}</div>
      <div class="custom-game-actions">
        <button class="btn-play" data-id="${t.id}">M√§ngi</button>
        <button class="btn-edit" data-id="${t.id}">Muuda</button>
        <button class="btn-delete" data-id="${t.id}">Kustuta</button>
      </div>
    `,o.querySelector(".btn-play")?.addEventListener("click",()=>{const a=T(t.id);a&&(u[t.id]=a.data,q(t.id))}),o.querySelector(".btn-edit")?.addEventListener("click",()=>{P(t.id)}),o.querySelector(".btn-delete")?.addEventListener("click",()=>{confirm(`Kas oled kindel, et soovid kustutada m√§ngu "${t.data.title}"?`)&&(de(t.id),B())}),s.appendChild(o)}),e.appendChild(s)}</script>
  <style rel="stylesheet" crossorigin>@import"https://fonts.googleapis.com/css2?family=Bangers&family=Poppins:wght@400;600;700&display=swap";*{margin:0;padding:0;box-sizing:border-box}:root,[data-theme=newyear]{--primary-color: #4a90d9;--secondary-color: #0a1628;--accent-color: #ffd700;--highlight-color: #c0c0c0;--success-color: #2dd881;--bg-gradient-start: #1a237e;--bg-gradient-end: #0a1628;--card-gradient-start: #4a90d9;--card-gradient-end: #ffd700;--card-hover-shadow: rgba(74, 144, 217, .6)}[data-theme=halloween]{--primary-color: #ff6b35;--secondary-color: #6b2d5c;--accent-color: #f7b32b;--highlight-color: #f7b32b;--success-color: #2dd881;--bg-gradient-start: #6b2d5c;--bg-gradient-end: #1a1a1a;--card-gradient-start: #ff6b35;--card-gradient-end: #f7b32b;--card-hover-shadow: rgba(255, 107, 53, .6)}body{font-family:Poppins,sans-serif;background:linear-gradient(135deg,var(--bg-gradient-start) 0%,var(--bg-gradient-end) 100%);color:#fff;min-height:100vh;overflow-x:hidden}.screen{display:none;min-height:100vh;padding:1rem}.screen.active{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative}#game-screen.active{justify-content:flex-start;padding-top:1rem}.landing-title{font-family:Bangers,cursive;font-size:5rem;text-align:center;margin-bottom:3rem;text-shadow:4px 4px 8px rgba(0,0,0,.5);animation:float 5s ease-in-out infinite}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.walking-cats{position:absolute;bottom:2rem;left:0;width:100%;height:50px;pointer-events:none;overflow:hidden}.cat{position:absolute;font-size:2.5rem;bottom:0;animation:walk 45s linear infinite}.cat-1{animation-delay:-10s}.cat-2{animation-delay:-25s}@keyframes walk{0%{left:calc(100% + 60px)}to{left:-60px}}@keyframes bob{0%,to{bottom:0}50%{bottom:4px}}.game-card{background:linear-gradient(135deg,var(--card-gradient-start),var(--card-gradient-end));padding:3rem 5rem;border-radius:20px;cursor:pointer;font-size:2rem;font-weight:700;box-shadow:0 10px 30px #00000080;transition:all .3s ease;text-align:center;color:#1a1a1a}.game-card:hover{transform:translateY(-10px) scale(1.05);box-shadow:0 20px 50px var(--card-hover-shadow)}.theme-toggle{position:absolute;top:1.5rem;right:1.5rem;background:#ffffff26;border:2px solid rgba(255,255,255,.3);border-radius:30px;padding:.6rem 1.2rem;color:#fff;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;font-family:Poppins,sans-serif;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.theme-toggle:hover{background:#ffffff40;border-color:var(--accent-color);transform:scale(1.05);box-shadow:0 5px 15px #0000004d}.saved-games-section{margin-top:3rem;width:100%;max-width:800px;display:none}.saved-games-title{font-family:Bangers,cursive;font-size:1.8rem;text-align:center;margin-bottom:1.5rem;color:var(--accent-color)}.saved-game-card{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:1.5rem;margin-bottom:1rem;display:flex;justify-content:space-between;align-items:center;gap:1rem;transition:all .3s ease;border:2px solid transparent}.saved-game-card:hover{border-color:var(--primary-color);box-shadow:0 5px 20px var(--card-hover-shadow);transform:translateY(-2px)}.saved-game-content{flex:1;cursor:pointer}.saved-game-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.saved-game-name{font-size:1.3rem;font-weight:700;color:var(--primary-color)}.saved-game-progress{font-size:1rem;font-weight:600;color:var(--success-color);background:#2dd88133;padding:.3rem .8rem;border-radius:20px}.saved-game-teams{font-size:.9rem;color:#fffc;line-height:1.4}.saved-game-delete{background:#ff6b3533;border:2px solid var(--primary-color);border-radius:10px;padding:.8rem 1rem;font-size:1.5rem;cursor:pointer;transition:all .3s ease;flex-shrink:0}.saved-game-delete:hover{background:var(--primary-color);transform:scale(1.1);box-shadow:0 5px 15px var(--card-hover-shadow)}.setup-container{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:3rem;border-radius:20px;max-width:600px;width:100%}.setup-title{font-size:2.5rem;margin-bottom:2rem;text-align:center;font-family:Bangers,cursive}.setup-group{margin-bottom:2rem}.setup-label{display:block;margin-bottom:.5rem;font-weight:600}.setup-input{width:100%;padding:.8rem;border:2px solid rgba(255,255,255,.3);border-radius:10px;font-size:1rem;font-family:Poppins,sans-serif;background:#ffffff1a;color:#fff;transition:all .3s ease}.setup-input:focus{outline:none;border-color:var(--accent-color);background:#ffffff26;box-shadow:0 0 15px var(--card-hover-shadow)}.setup-input::placeholder{color:#ffffff80}.team-inputs{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem}.btn{width:100%;padding:1rem;border:none;border-radius:10px;font-size:1.2rem;font-weight:700;cursor:pointer;transition:all .3s ease;font-family:Poppins,sans-serif}.btn-primary{background:linear-gradient(135deg,var(--card-gradient-start),var(--card-gradient-end));color:#1a1a1a}.btn-primary:hover{transform:translateY(-3px);box-shadow:0 10px 20px var(--card-hover-shadow)}.game-container{max-width:1400px;width:100%}.game-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:3rem;flex-wrap:wrap;gap:1rem}.game-title{font-family:Bangers,cursive;font-size:2rem;cursor:pointer;transition:all .3s ease}.game-title:hover{color:var(--halloween-yellow);transform:scale(1.05)}.scores-container{display:flex;gap:1rem;flex-wrap:wrap}.team-score{background:#ffffff1a;padding:.5rem 1rem;border-radius:10px;text-align:center;transition:all .3s ease;border:2px solid transparent}.team-score.active-turn{border-color:var(--accent-color);box-shadow:0 0 20px var(--card-hover-shadow);background:#ffffff26;transform:scale(1.05)}.team-name{font-size:.9rem;font-weight:600;margin-bottom:.3rem}.team-points{font-size:1.4rem;font-weight:700;color:var(--accent-color)}.jeopardy-board{display:grid;grid-template-columns:repeat(5,1fr);gap:.5rem;margin-bottom:2rem}.category-cell{background:linear-gradient(135deg,#010391,#0205b0);padding:.8rem .5rem;border-radius:10px;text-align:center;font-weight:700;font-size:1.5rem;color:#fff;text-transform:uppercase;text-shadow:2px 2px 4px rgba(0,0,0,.8),-1px -1px 0px rgba(0,0,0,.5);min-height:60px;display:flex;align-items:center;justify-content:center}.question-cell{background:linear-gradient(135deg,#010391,#0205b0);padding:1rem .5rem;border-radius:10px;text-align:center;font-size:3rem;font-weight:700;color:#eca84b;text-shadow:3px 3px 6px rgba(0,0,0,.9),-1px -1px 0px rgba(0,0,0,.5),1px 1px 0px rgba(0,0,0,.3);cursor:pointer;transition:all .3s ease;border:3px solid transparent;min-height:80px;display:flex;align-items:center;justify-content:center}.question-cell:hover:not(.answered){transform:scale(1.05);border-color:var(--accent-color);box-shadow:0 0 30px var(--card-hover-shadow)}.question-cell.answered{opacity:.3;cursor:not-allowed;background:linear-gradient(135deg,#1a1a1a,#2a2a2a)}::view-transition-old(modal-card),::view-transition-new(modal-card){animation-duration:.4s;animation-timing-function:cubic-bezier(.4,0,.2,1)}.question-cell.transitioning{view-transition-name:modal-card;contain:layout;color:transparent}.modal-content.transitioning{view-transition-name:modal-card;contain:layout}html.is-transitioning .modal,html.is-transitioning .modal-content{transition:none!important}.modal{display:flex;position:fixed;top:0;left:0;width:100%;height:100%;background:#000000f2;z-index:1000;align-items:center;justify-content:center;padding:0;opacity:0;pointer-events:none;transition:opacity .3s ease}.modal.active{opacity:1;pointer-events:all}.modal-content{background:linear-gradient(135deg,#010391,#010270);padding:3rem;border-radius:0;max-width:100vw;max-height:100vh;width:100vw;height:100vh;border:none;transform:scale(.9);transition:transform .3s ease;overflow-y:auto;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:2rem;position:relative}.modal.active .modal-content{transform:scale(1)}.modal-value{font-size:5rem;font-weight:700;color:var(--accent-color);text-align:center;margin-bottom:3rem;display:none}.modal-question{font-size:3.5rem;text-align:center;line-height:1.5;width:100%;max-width:1000px;text-shadow:4px 4px 0px rgba(0,0,0,.9),-1px -1px 0px rgba(0,0,0,.4),1px -1px 0px rgba(0,0,0,.4),-1px 1px 0px rgba(0,0,0,.4),1px 1px 0px rgba(0,0,0,.4),5px 5px 8px rgba(0,0,0,.6)}.modal-answer{font-size:2.5rem;text-align:center;color:var(--success-color);font-weight:600;padding:2rem;background:#2dd8811a;border-radius:10px;width:100%;max-width:1000px;text-shadow:2px 2px 4px rgba(0,0,0,.8),-1px -1px 0px rgba(0,0,0,.5),0 0 10px rgba(45,216,129,.3);opacity:0;transform:scale(.8) translateY(-20px);transition:opacity .5s ease,transform .5s cubic-bezier(.34,1.56,.64,1);pointer-events:none}.modal-answer.visible{opacity:1;transform:scale(1) translateY(0);pointer-events:auto}.modal-buttons{display:flex;flex-direction:column;gap:1rem;width:calc(100% - 6rem);max-width:800px;position:absolute;bottom:3rem;left:50%;transform:translate(-50%)}.team-buttons{display:flex;gap:1rem;flex-wrap:wrap;margin-bottom:1rem}.team-button-group{display:flex;gap:.5rem;flex:1;min-width:300px}.btn-team{flex:1;min-width:150px;padding:1rem 1.5rem;background:#ffffff1a;border:2px solid rgba(255,255,255,.3);border-radius:8px;color:#fffc;font-size:1.2rem;font-weight:600;cursor:pointer;transition:all .3s ease}.btn-team:hover{background:#fff3;border-color:#ffffff80;color:#fff}.btn-team-positive{background:#2dd88126;border-color:var(--success-color);color:var(--success-color)}.btn-team-positive:hover{background:#2dd8814d;border-color:var(--success-color);color:#fff;box-shadow:0 0 20px #2dd88166}.btn-team-negative{background:#ff6b3526;border-color:var(--primary-color);color:var(--primary-color)}.btn-team-negative:hover{background:#ff6b354d;border-color:var(--primary-color);color:#fff;box-shadow:0 0 20px var(--card-hover-shadow)}.btn-team.btn-skip{background:#ffffff0d;border-color:#fff3;color:#fff9;font-style:italic}.btn-team.btn-skip:hover{background:#ffffff1a;border-color:#ffffff4d;color:#fffc}.btn-team.previously-selected{border-color:var(--accent-color);background:#ffd70033;color:var(--accent-color)}.previous-answer-indicator{width:100%;text-align:center;padding:.8rem;margin-bottom:1rem;background:#ffd70026;border:1px solid rgba(255,215,0,.3);border-radius:8px;color:var(--accent-color);font-size:1rem;font-weight:600}.btn-secondary{background:#fff3;color:#fff}.btn-secondary:hover{background:#ffffff4d}#show-answer-btn,.modal-buttons>.btn-secondary{display:none}.end-container{text-align:center;max-width:800px}.end-title{font-family:Bangers,cursive;font-size:4rem;margin-bottom:3rem;animation:pulse 1s ease-in-out infinite}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.podium{display:flex;justify-content:center;align-items:flex-end;gap:2rem;margin-bottom:3rem;flex-wrap:wrap}.podium-place{background:linear-gradient(135deg,var(--card-gradient-start),var(--card-gradient-end));padding:2rem;border-radius:20px;min-width:200px;animation:slideUp .5s ease-out}@keyframes slideUp{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}.podium-place.first{order:2;padding:3rem 2rem;background:linear-gradient(135deg,gold,#ffed4e);transform:scale(1.1)}.podium-place.second{order:1}.podium-place.third{order:3}.place-number{font-size:3rem;font-weight:700;color:#1a1a1a;margin-bottom:.5rem}.place-team{font-size:1.5rem;font-weight:700;color:#1a1a1a;margin-bottom:.5rem}.place-score{font-size:2rem;font-weight:700;color:var(--secondary-color)}.end-buttons{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap}.end-buttons .btn{width:auto;min-width:200px}@keyframes confetti-fall{to{transform:translateY(100vh) rotate(360deg)}}.confetti{position:fixed;width:10px;height:10px;background:var(--accent-color);position:absolute;animation:confetti-fall 3s linear infinite}@media(max-width:768px){.landing-title{font-size:3rem}.game-card{padding:2rem 3rem;font-size:1.5rem}.jeopardy-board{grid-template-columns:repeat(3,1fr);gap:.3rem}.category-cell{font-size:.8rem;min-height:50px;padding:.5rem .3rem}.question-cell{padding:.8rem .3rem;font-size:1.5rem;min-height:60px}.modal-value{font-size:3rem}.modal-question{font-size:2rem}.modal-answer{font-size:1.5rem}.team-button-group{min-width:100%;flex-direction:column}.btn-team{font-size:1rem;padding:1rem;min-width:100%}.previous-answer-indicator{font-size:.9rem;padding:.6rem}.saved-games-section{margin-top:2rem;padding:0 1rem}.saved-games-title{font-size:1.4rem}.saved-game-card{padding:1rem;flex-direction:column;align-items:flex-start}.saved-game-name{font-size:1.1rem}.saved-game-progress{font-size:.9rem}.saved-game-teams{font-size:.8rem;margin-bottom:.5rem}.saved-game-delete{align-self:flex-end;padding:.6rem .9rem;font-size:1.2rem}}.game-card-create{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;background:#ffffff1a;border:3px dashed rgba(255,255,255,.4)}.game-card-create:hover{background:#fff3;border-color:var(--accent-color)}.create-icon{font-size:3rem;font-weight:300;line-height:1}.custom-games-section{margin-top:2rem;width:100%;max-width:1000px;display:none}.custom-games-title{font-family:Bangers,cursive;font-size:1.8rem;text-align:center;margin-bottom:1.5rem;color:var(--accent-color)}.custom-games-grid{display:flex;gap:1rem;flex-wrap:wrap;justify-content:center}.custom-game-card{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:1.5rem;min-width:200px;display:flex;flex-direction:column;gap:1rem;transition:all .3s ease;border:2px solid transparent}.custom-game-card:hover{border-color:var(--primary-color);box-shadow:0 5px 20px var(--card-hover-shadow);transform:translateY(-2px)}.custom-game-name{font-size:1.3rem;font-weight:700;color:var(--primary-color);text-align:center}.custom-game-actions{display:flex;gap:.5rem;justify-content:center}.custom-game-actions button{padding:.5rem 1rem;border-radius:8px;border:2px solid rgba(255,255,255,.3);background:#ffffff1a;color:#fff;font-size:.9rem;cursor:pointer;transition:all .3s ease}.custom-game-actions button:hover{background:#fff3;border-color:var(--accent-color)}.custom-game-actions .btn-delete{border-color:#f44;color:#f44}.custom-game-actions .btn-delete:hover{background:#f443}#editor-screen.active{justify-content:flex-start;padding-top:1rem}.editor-container{max-width:1200px;width:100%;display:flex;flex-direction:column;gap:1.5rem}.editor-header{display:flex;align-items:center;gap:1rem;padding:.5rem 0}.btn-icon{background:#ffffff1a;border:2px solid rgba(255,255,255,.3);border-radius:10px;padding:.5rem 1rem;color:#fff;font-size:1.5rem;cursor:pointer;transition:all .3s ease}.btn-icon:hover{background:#fff3;border-color:var(--accent-color)}.editor-title{flex:1;font-family:Bangers,cursive;font-size:2rem}.editor-actions{display:flex;gap:.5rem}.btn-small{padding:.5rem 1rem;font-size:.9rem}.editor-content{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:2rem;border-radius:20px;display:flex;flex-direction:column;gap:1.5rem}.editor-field{display:flex;flex-direction:column;gap:.5rem}.editor-label{font-weight:600;font-size:1rem;color:var(--accent-color)}.category-inputs{display:grid;grid-template-columns:repeat(5,1fr);gap:.5rem}.category-input{width:100%;padding:.8rem;border:2px solid rgba(255,255,255,.3);border-radius:10px;font-size:1rem;font-family:Poppins,sans-serif;background:#ffffff1a;color:#fff;text-align:center;font-weight:600;transition:all .3s ease}.category-input:focus{outline:none;border-color:var(--accent-color);background:#ffffff26}.category-input::placeholder{color:#ffffff80}.editor-board{display:grid;grid-template-columns:repeat(5,1fr);gap:.5rem}.editor-cell{background:linear-gradient(135deg,#010391,#0205b0);padding:1rem .5rem;border-radius:10px;text-align:center;font-size:1.5rem;font-weight:700;color:#eca84b;cursor:pointer;transition:all .3s ease;border:3px solid transparent;min-height:70px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.3rem}.editor-cell:hover{transform:scale(1.02);border-color:var(--accent-color);box-shadow:0 0 20px var(--card-hover-shadow)}.editor-cell.filled{background:linear-gradient(135deg,#014d01,#026b02)}.editor-cell .cell-value{font-size:1.5rem}.editor-cell .cell-status{font-size:.7rem;opacity:.7}.editor-footer{display:flex;justify-content:center}.editor-footer .btn{max-width:300px}#question-editor-modal .question-editor-content{background:linear-gradient(135deg,var(--bg-gradient-start),var(--bg-gradient-end));padding:2rem;border-radius:20px;max-width:600px;width:90%;border:2px solid rgba(255,255,255,.2)}.question-editor-title{font-family:Bangers,cursive;font-size:1.8rem;margin-bottom:1.5rem;text-align:center;color:var(--accent-color)}.question-editor-field{margin-bottom:1.5rem}.editor-textarea{width:100%;padding:1rem;border:2px solid rgba(255,255,255,.3);border-radius:10px;font-size:1rem;font-family:Poppins,sans-serif;background:#ffffff1a;color:#fff;resize:vertical;min-height:100px;transition:all .3s ease}.editor-textarea:focus{outline:none;border-color:var(--accent-color);background:#ffffff26}.editor-textarea::placeholder{color:#ffffff80}.question-editor-buttons{display:flex;gap:1rem;justify-content:flex-end}.question-editor-buttons .btn{width:auto;min-width:120px}@media(max-width:768px){.category-inputs{grid-template-columns:repeat(2,1fr)}.category-inputs input:last-child{grid-column:span 2;max-width:50%;margin:0 auto}.editor-board{grid-template-columns:repeat(3,1fr)}.editor-cell{font-size:1.2rem;min-height:60px}.editor-header{flex-wrap:wrap}.editor-title{order:-1;width:100%;text-align:center;margin-bottom:.5rem}.custom-games-grid{flex-direction:column;align-items:center}.custom-game-card{width:100%;max-width:300px}}</style>
</head>
<body>
    <!-- Landing Screen -->
    <div id="landing-screen" class="screen active">
        <button id="theme-toggle" class="theme-toggle">üéÉ Halloween</button>
        <h1 class="landing-title">Kuldvillak üéÜ</h1>
        <div style="display: flex; gap: 2rem; flex-wrap: wrap; justify-content: center;">
            <div class="game-card" id="game1-card">M√§ng 1</div>
            <div class="game-card" id="game2-card">M√§ng 2</div>
            <div class="game-card game-card-create" id="create-game-card">
                <span class="create-icon">+</span>
                <span>Loo m√§ng</span>
            </div>
        </div>
        <div id="custom-games-container" class="custom-games-section"></div>
        <div id="saved-games-container" class="saved-games-section"></div>
        <div class="walking-cats">
            <div class="cat cat-1">üéá</div>
            <div class="cat cat-2">ü•Ç</div>
        </div>
    </div>

    <!-- Editor Screen -->
    <div id="editor-screen" class="screen">
        <div class="editor-container">
            <div class="editor-header">
                <button class="btn-icon" id="editor-back-btn" title="Tagasi">‚Üê</button>
                <h2 class="editor-title">M√§ngu Redaktor</h2>
                <div class="editor-actions">
                    <button class="btn btn-small" id="import-btn">Import</button>
                    <button class="btn btn-small" id="export-btn">Export</button>
                </div>
            </div>
            <div class="editor-content">
                <div class="editor-field">
                    <label class="editor-label">M√§ngu pealkiri:</label>
                    <input type="text" id="editor-game-title" class="setup-input" placeholder="Minu m√§ng">
                </div>
                <div class="editor-categories">
                    <label class="editor-label">Kategooriad:</label>
                    <div class="category-inputs" id="category-inputs"></div>
                </div>
                <div class="editor-questions">
                    <label class="editor-label">K√ºsimused (kliki lahtril muutmiseks):</label>
                    <div class="editor-board" id="editor-board"></div>
                </div>
            </div>
            <div class="editor-footer">
                <button class="btn btn-primary" id="save-game-btn">Salvesta m√§ng</button>
            </div>
        </div>
        <input type="file" id="import-file-input" accept=".json" style="display: none;">
    </div>

    <!-- Question Editor Modal -->
    <div id="question-editor-modal" class="modal">
        <div class="question-editor-content">
            <h3 class="question-editor-title">Muuda k√ºsimust</h3>
            <div class="question-editor-field">
                <label class="editor-label">K√ºsimus:</label>
                <textarea id="edit-question-text" class="editor-textarea" rows="4" placeholder="Sisesta k√ºsimus..."></textarea>
            </div>
            <div class="question-editor-field">
                <label class="editor-label">Vastus:</label>
                <input type="text" id="edit-answer-text" class="setup-input" placeholder="Sisesta vastus...">
            </div>
            <div class="question-editor-buttons">
                <button class="btn btn-secondary" id="cancel-question-edit-btn">T√ºhista</button>
                <button class="btn btn-primary" id="save-question-edit-btn">Salvesta</button>
            </div>
        </div>
    </div>

    <!-- Team Setup Screen -->
    <div id="setup-screen" class="screen">
        <div class="setup-container">
            <h2 class="setup-title">Tiimide Seadistus</h2>
            <div class="setup-group">
                <label class="setup-label">Tiimide arv:</label>
                <input type="number" id="team-count" class="setup-input" value="3" min="2" max="6">
            </div>
            <div id="team-inputs" class="team-inputs"></div>
            <button class="btn btn-primary" id="start-game-btn">Alusta M√§ngu</button>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="game-screen" class="screen">
        <div class="game-container">
            <div class="game-header">
                <h2 class="game-title" id="game-title">Kuldvillak üéÜ</h2>
                <div id="scores-container" class="scores-container"></div>
            </div>
            <div id="jeopardy-board" class="jeopardy-board"></div>
        </div>
    </div>

    <!-- Question Modal -->
    <div id="question-modal" class="modal">
        <div class="modal-content">
            <div class="modal-value" id="modal-value"></div>
            <div class="modal-question" id="modal-question"></div>
            <div class="modal-answer" id="modal-answer"></div>
            <div class="modal-buttons">
                <div id="team-buttons" class="team-buttons"></div>
                <button class="btn btn-secondary" id="close-modal-btn">Sulge</button>
            </div>
        </div>
    </div>

    <!-- End Screen -->
    <div id="end-screen" class="screen">
        <div class="end-container">
            <h1 class="end-title">M√§ng L√§bi!</h1>
            <div id="podium" class="podium"></div>
            <div class="end-buttons">
                <button class="btn btn-secondary" id="back-to-menu-btn">Tagasi Men√º√ºsse</button>
            </div>
        </div>
    </div>

    <div id="app"></div>
</body>
</html>
